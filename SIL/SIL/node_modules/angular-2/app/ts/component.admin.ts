/**
 * Created by Prism Web on 03-01-2017.
 */
/**
 * Created by Prism Web on 03-01-2017.
 */
//noinspection TypeScriptCheckImport
import { Component } from 'angular2/core';
import {Router, CanActivate} from 'angular2/router';

@Component({

    template : 'Hello {{userName}} !',
    styleUrls : ['./app/css/myShopComponent.css'],
    directives :[ ]
})



export class adminComponent{
        constructor(public _router : Router){
            var x = document.cookie.split(';');
            var  i = 0;
            var cookieValue;
            for(;i <x.length; i++){
                if(x[i].split('=')[0].trim() == 'sessionID'){
                     cookieValue = x[i].split('=')[1];
                    break;
                }
            }
            if (cookieValue === undefined){
                this._router.navigate(['LoginForm']);
            }else {
                var res = atob(cookieValue).split('??');
                console.log(res);
                if(atob(res[0]) == 'admin' && atob(res[1]) == 'admin'){
                    //admin
                }else{
                    this._router.navigate(['LoginForm']);
                }
            }
            if (cookieValue === undefined){
                this._router.navigate(['DashboardArea']);
            }else {
                var res = atob(cookieValue).split('??');
                console.log(res);
                if(atob(res[0]) == 'admin' && atob(res[1]) == 'admin'){
                    //admin
                }else{
                    this._router.navigate(['LoginForm']);
                }
            }
        }
}