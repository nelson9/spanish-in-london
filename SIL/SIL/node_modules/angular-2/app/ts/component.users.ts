//noinspection TypeScriptCheckImport
import { Component } from 'angular2/core';
import {Router, CanActivate} from 'angular2/router';

@Component({
    template : 'Hello {{userName}} !',
    styleUrls : ['./app/css/myShopComponent.css'],
    directives :[ ]
})



export class userComponent{
    constructor(public _router : Router){
        var x = document.cookie.split(';');
        var  i = 0;
        var cookieValue;
        for(;i <x.length; i++){
            if(x[i].split('=')[0].trim() == 'sessionID'){
                cookieValue = x[i].split('=')[1];
                break;
            }
        }
        if (cookieValue === undefined){
            this._router.navigate(['LoginForm']);
        }else {
            var res = atob(cookieValue).split('??');
            console.log(res);
            this.userName = atob(res[0]);
        }
    }
}